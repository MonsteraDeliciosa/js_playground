/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__modules_moneyFormat__ = __webpack_require__(1);


var moneyFormat = new __WEBPACK_IMPORTED_MODULE_0__modules_moneyFormat__["a" /* default */]();

moneyFormat.init();

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_dictionary__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_ordinals__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__validation__ = __webpack_require__(4);




/* TODO
    0. get value from user (input, button)
        * validate data (digits + comma or dot only)
        * format user provided data: remove spaces
    1. separate PLN from GR into separate arrays
    2. GR limit to 2 digits after comma
    3. PLN to array
    4. reverse PLNarr
    5. combine into arrays of three
    6. reverse all arrs
    7. do the magic
    8. print output in container

*/

class MoneyFormat {

    constructor () {
        this.input = document.getElementById('cash');
        this.submit = document.getElementById('submit');
    }

    init () {

        this.submit.addEventListener('click', (event) => {
            event.preventDefault();

            let val = this.input.value;

            if (val.indexOf(',') < 0 || val.indexOf('.') < 0) {
                this.plnArrayHandle(val);
                // add 'zero groszy' to final string
                return;
            }

            this.formatCommas(val);
        });
    }

    formatCommas ( str ) {
        const fStr = str.replace('.', ',');

        this.separateDecimals (fStr);
    }

    separateDecimals ( str ) {
        const separated = str.split(',');

        this.limitDecimals(separated[1]);
        this.plnArrayHandle(separated[0]);

    }

    limitDecimals ( str ) {

        if (!str.length) {
            const limited = '00'
        } else if (str.length === 1) {
            const limited =+ '0'
        } else {
            const limited = str.slice(0, 2);
        }

        //call toStr function for limited

    }

    plnArrayHandle ( str ) {

        const reversed = str.split('').reverse();
        const grouped = createArr(reversed);
        const unreversed = grouped.reverse();

        function createArr(arr) {
            var separated = [];
            var i = 0;

            while (i < arr.length) {

                var firstArg = arr[i];
                var secArg = arr[i + 1] || '';
                var thirdArg = arr[i + 2] || '';
                var tempArr = [firstArg, secArg, thirdArg];

                separated.push(tempArr);
                i = i + 3;
            }

            return separated;
        }

        unreversed.forEach(element => {
            element.reverse();
        });

        //call toStr function for pln arrays

    }

    numToStr ( arr ) {

    }

}
/* harmony export (immutable) */ __webpack_exports__["a"] = MoneyFormat;


/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const GR  = {
    sing: {
        nom: 'grosz'
    },
    plural: {
        nom: 'grosze',
        gen: 'groszy'
    }
}
/* unused harmony export GR */


const PLN = {
    sing: {
        nom: 'złoty'
    },
    plural: {
        nom: 'złote',
        gen: 'złotych'
    }
}
/* unused harmony export PLN */


const THOUSANDS = {
    sing: {
        nom: 'tysiąc'
    },
    plural: {
        nom: 'tysiące',
        gen: 'tysięcy'
    }
}
/* unused harmony export THOUSANDS */


const MILLIONS = {
    sing: {
        nom: 'milion'
    },
    plural: {
        nom: 'miliony',
        gen: 'milionów'
    }
}
/* unused harmony export MILLIONS */



/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const INTEGERS = {
    0: 'zero',
    1: 'jeden',
    2: 'dwa',
    3: 'trzy',
    4: 'cztery',
    5: 'pięć',
    6: 'sześć',
    7: 'siedem',
    8: 'osiem',
    9: 'dziewięć'
}
/* unused harmony export INTEGERS */


const SEVERALS = {
    0: 'dziesięć',
    1: 'jedenaście',
    2: 'dwanaście',
    3: 'trzynaście',
    4: 'czternaście',
    5: 'piętnaście',
    6: 'szesnaście',
    7: 'siedemnaście',
    8: 'osiemnaście',
    9: 'dziewiętnaście'
}
/* unused harmony export SEVERALS */


const TENS = {
    0: null,
    1: {
        0: 'dziesięć',
        1: 'jedenaście',
        2: 'dwanaście',
        3: 'trzynaście',
        4: 'czternaście',
        5: 'piętnaście',
        6: 'szesnaście',
        7: 'siedemnaście',
        8: 'osiemnaście',
        9: 'dziewiętnaście'
    },
    2: 'dwadzieścia',
    3: 'trzydzieści',
    4: 'czterdzieści',
    5: 'pięćdziesiąt',
    6: 'sześćdziesiąt',
    7: 'siedemdziesiąt',
    8: 'osiemdziesiąt',
    9: 'dziewięćdziesiąt'
}
/* unused harmony export TENS */


const HUNDREDS = {
    0: null,
    1: 'sto',
    2: 'dwieście',
    3: 'trzysta',
    4: 'czterysta',
    5: 'pięćset',
    6: 'sześćset',
    7: 'siedemset',
    8: 'osiemset',
    9: 'dziewięćset'
}
/* unused harmony export HUNDREDS */


/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* TODO
    * validate data:
        * digits + comma and dot only
        * remove spaces


*/

class Validation {

    constructor ( opts ) {
        this.input = document.getElementById('cash');
    }

    init () {
        this.validate(this.input);
    }

    valdate ( input ) {

        const pattern = new RegExp('^([1-9]){1}\d{0,}([\.,])?\d{0,2}$');
        
    }

}
/* unused harmony export default */


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzk2MzI4N2Y2NmM5Mjk5OGVlNzAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9tb25leUZvcm1hdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tbW9uL2RpY3Rpb25hcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbW1vbi9vcmRpbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy92YWxpZGF0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7OztBQzdEQTs7QUFFQTs7QUFFQSxtQjs7Ozs7Ozs7OztBQ0p1QztBQUNNO0FBQzdDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxDOzs7Ozs7Ozs7QUMzR0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7OztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQzs7Ozs7Ozs7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDZDQUE2QyxFQUFFLEdBQUcsR0FBRyxXQUFXLElBQUk7O0FBRXBFOztBQUVBLEMiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBjOTYzMjg3ZjY2YzkyOTk4ZWU3MCIsImltcG9ydCBNb25leUZvcm1hdCBmcm9tICcuL21vZHVsZXMvbW9uZXlGb3JtYXQnXHJcblxyXG52YXIgbW9uZXlGb3JtYXQgPSBuZXcgTW9uZXlGb3JtYXQoKTtcclxuXHJcbm1vbmV5Rm9ybWF0LmluaXQoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9qcy9hcHAuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgR1IsIFBMTiwgVEhPVVNBTkRTLCBNSUxMSU9OUyB9IGZyb20gJy4uL2NvbW1vbi9kaWN0aW9uYXJ5J1xyXG5pbXBvcnQgeyBJTlRFR0VSUywgU0VWRVJBTFMsIFRFTlMsIEhVTkRSRURTIH0gZnJvbSAnLi4vY29tbW9uL29yZGluYWxzJ1xyXG5pbXBvcnQgVmFsaWRhdGlvbiBmcm9tICcuL3ZhbGlkYXRpb24nXHJcblxyXG4vKiBUT0RPXHJcbiAgICAwLiBnZXQgdmFsdWUgZnJvbSB1c2VyIChpbnB1dCwgYnV0dG9uKVxyXG4gICAgICAgICogdmFsaWRhdGUgZGF0YSAoZGlnaXRzICsgY29tbWEgb3IgZG90IG9ubHkpXHJcbiAgICAgICAgKiBmb3JtYXQgdXNlciBwcm92aWRlZCBkYXRhOiByZW1vdmUgc3BhY2VzXHJcbiAgICAxLiBzZXBhcmF0ZSBQTE4gZnJvbSBHUiBpbnRvIHNlcGFyYXRlIGFycmF5c1xyXG4gICAgMi4gR1IgbGltaXQgdG8gMiBkaWdpdHMgYWZ0ZXIgY29tbWFcclxuICAgIDMuIFBMTiB0byBhcnJheVxyXG4gICAgNC4gcmV2ZXJzZSBQTE5hcnJcclxuICAgIDUuIGNvbWJpbmUgaW50byBhcnJheXMgb2YgdGhyZWVcclxuICAgIDYuIHJldmVyc2UgYWxsIGFycnNcclxuICAgIDcuIGRvIHRoZSBtYWdpY1xyXG4gICAgOC4gcHJpbnQgb3V0cHV0IGluIGNvbnRhaW5lclxyXG5cclxuKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbmV5Rm9ybWF0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXNoJyk7XHJcbiAgICAgICAgdGhpcy5zdWJtaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdmFsID0gdGhpcy5pbnB1dC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWwuaW5kZXhPZignLCcpIDwgMCB8fCB2YWwuaW5kZXhPZignLicpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbG5BcnJheUhhbmRsZSh2YWwpO1xyXG4gICAgICAgICAgICAgICAgLy8gYWRkICd6ZXJvIGdyb3N6eScgdG8gZmluYWwgc3RyaW5nXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0Q29tbWFzKHZhbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0Q29tbWFzICggc3RyICkge1xyXG4gICAgICAgIGNvbnN0IGZTdHIgPSBzdHIucmVwbGFjZSgnLicsICcsJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2VwYXJhdGVEZWNpbWFscyAoZlN0cik7XHJcbiAgICB9XHJcblxyXG4gICAgc2VwYXJhdGVEZWNpbWFscyAoIHN0ciApIHtcclxuICAgICAgICBjb25zdCBzZXBhcmF0ZWQgPSBzdHIuc3BsaXQoJywnKTtcclxuXHJcbiAgICAgICAgdGhpcy5saW1pdERlY2ltYWxzKHNlcGFyYXRlZFsxXSk7XHJcbiAgICAgICAgdGhpcy5wbG5BcnJheUhhbmRsZShzZXBhcmF0ZWRbMF0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBsaW1pdERlY2ltYWxzICggc3RyICkge1xyXG5cclxuICAgICAgICBpZiAoIXN0ci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgbGltaXRlZCA9ICcwMCdcclxuICAgICAgICB9IGVsc2UgaWYgKHN0ci5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgbGltaXRlZCA9KyAnMCdcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBsaW1pdGVkID0gc3RyLnNsaWNlKDAsIDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jYWxsIHRvU3RyIGZ1bmN0aW9uIGZvciBsaW1pdGVkXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHBsbkFycmF5SGFuZGxlICggc3RyICkge1xyXG5cclxuICAgICAgICBjb25zdCByZXZlcnNlZCA9IHN0ci5zcGxpdCgnJykucmV2ZXJzZSgpO1xyXG4gICAgICAgIGNvbnN0IGdyb3VwZWQgPSBjcmVhdGVBcnIocmV2ZXJzZWQpO1xyXG4gICAgICAgIGNvbnN0IHVucmV2ZXJzZWQgPSBncm91cGVkLnJldmVyc2UoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQXJyKGFycikge1xyXG4gICAgICAgICAgICB2YXIgc2VwYXJhdGVkID0gW107XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChpIDwgYXJyLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBmaXJzdEFyZyA9IGFycltpXTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWNBcmcgPSBhcnJbaSArIDFdIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXJkQXJnID0gYXJyW2kgKyAyXSB8fCAnJztcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wQXJyID0gW2ZpcnN0QXJnLCBzZWNBcmcsIHRoaXJkQXJnXTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0ZWQucHVzaCh0ZW1wQXJyKTtcclxuICAgICAgICAgICAgICAgIGkgPSBpICsgMztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNlcGFyYXRlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVucmV2ZXJzZWQuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZXZlcnNlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vY2FsbCB0b1N0ciBmdW5jdGlvbiBmb3IgcGxuIGFycmF5c1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBudW1Ub1N0ciAoIGFyciApIHtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvanMvbW9kdWxlcy9tb25leUZvcm1hdC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgY29uc3QgR1IgID0ge1xyXG4gICAgc2luZzoge1xyXG4gICAgICAgIG5vbTogJ2dyb3N6J1xyXG4gICAgfSxcclxuICAgIHBsdXJhbDoge1xyXG4gICAgICAgIG5vbTogJ2dyb3N6ZScsXHJcbiAgICAgICAgZ2VuOiAnZ3Jvc3p5J1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUExOID0ge1xyXG4gICAgc2luZzoge1xyXG4gICAgICAgIG5vbTogJ3rFgm90eSdcclxuICAgIH0sXHJcbiAgICBwbHVyYWw6IHtcclxuICAgICAgICBub206ICd6xYJvdGUnLFxyXG4gICAgICAgIGdlbjogJ3rFgm90eWNoJ1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgVEhPVVNBTkRTID0ge1xyXG4gICAgc2luZzoge1xyXG4gICAgICAgIG5vbTogJ3R5c2nEhWMnXHJcbiAgICB9LFxyXG4gICAgcGx1cmFsOiB7XHJcbiAgICAgICAgbm9tOiAndHlzacSFY2UnLFxyXG4gICAgICAgIGdlbjogJ3R5c2nEmWN5J1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTUlMTElPTlMgPSB7XHJcbiAgICBzaW5nOiB7XHJcbiAgICAgICAgbm9tOiAnbWlsaW9uJ1xyXG4gICAgfSxcclxuICAgIHBsdXJhbDoge1xyXG4gICAgICAgIG5vbTogJ21pbGlvbnknLFxyXG4gICAgICAgIGdlbjogJ21pbGlvbsOzdydcclxuICAgIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9qcy9jb21tb24vZGljdGlvbmFyeS5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgY29uc3QgSU5URUdFUlMgPSB7XHJcbiAgICAwOiAnemVybycsXHJcbiAgICAxOiAnamVkZW4nLFxyXG4gICAgMjogJ2R3YScsXHJcbiAgICAzOiAndHJ6eScsXHJcbiAgICA0OiAnY3p0ZXJ5JyxcclxuICAgIDU6ICdwacSZxIcnLFxyXG4gICAgNjogJ3N6ZcWbxIcnLFxyXG4gICAgNzogJ3NpZWRlbScsXHJcbiAgICA4OiAnb3NpZW0nLFxyXG4gICAgOTogJ2R6aWV3acSZxIcnXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTRVZFUkFMUyA9IHtcclxuICAgIDA6ICdkemllc2nEmcSHJyxcclxuICAgIDE6ICdqZWRlbmHFm2NpZScsXHJcbiAgICAyOiAnZHdhbmHFm2NpZScsXHJcbiAgICAzOiAndHJ6eW5hxZtjaWUnLFxyXG4gICAgNDogJ2N6dGVybmHFm2NpZScsXHJcbiAgICA1OiAncGnEmXRuYcWbY2llJyxcclxuICAgIDY6ICdzemVzbmHFm2NpZScsXHJcbiAgICA3OiAnc2llZGVtbmHFm2NpZScsXHJcbiAgICA4OiAnb3NpZW1uYcWbY2llJyxcclxuICAgIDk6ICdkemlld2nEmXRuYcWbY2llJ1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgVEVOUyA9IHtcclxuICAgIDA6IG51bGwsXHJcbiAgICAxOiB7XHJcbiAgICAgICAgMDogJ2R6aWVzacSZxIcnLFxyXG4gICAgICAgIDE6ICdqZWRlbmHFm2NpZScsXHJcbiAgICAgICAgMjogJ2R3YW5hxZtjaWUnLFxyXG4gICAgICAgIDM6ICd0cnp5bmHFm2NpZScsXHJcbiAgICAgICAgNDogJ2N6dGVybmHFm2NpZScsXHJcbiAgICAgICAgNTogJ3BpxJl0bmHFm2NpZScsXHJcbiAgICAgICAgNjogJ3N6ZXNuYcWbY2llJyxcclxuICAgICAgICA3OiAnc2llZGVtbmHFm2NpZScsXHJcbiAgICAgICAgODogJ29zaWVtbmHFm2NpZScsXHJcbiAgICAgICAgOTogJ2R6aWV3acSZdG5hxZtjaWUnXHJcbiAgICB9LFxyXG4gICAgMjogJ2R3YWR6aWXFm2NpYScsXHJcbiAgICAzOiAndHJ6eWR6aWXFm2NpJyxcclxuICAgIDQ6ICdjenRlcmR6aWXFm2NpJyxcclxuICAgIDU6ICdwacSZxIdkemllc2nEhXQnLFxyXG4gICAgNjogJ3N6ZcWbxIdkemllc2nEhXQnLFxyXG4gICAgNzogJ3NpZWRlbWR6aWVzacSFdCcsXHJcbiAgICA4OiAnb3NpZW1kemllc2nEhXQnLFxyXG4gICAgOTogJ2R6aWV3acSZxIdkemllc2nEhXQnXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBIVU5EUkVEUyA9IHtcclxuICAgIDA6IG51bGwsXHJcbiAgICAxOiAnc3RvJyxcclxuICAgIDI6ICdkd2llxZtjaWUnLFxyXG4gICAgMzogJ3RyenlzdGEnLFxyXG4gICAgNDogJ2N6dGVyeXN0YScsXHJcbiAgICA1OiAncGnEmcSHc2V0JyxcclxuICAgIDY6ICdzemXFm8SHc2V0JyxcclxuICAgIDc6ICdzaWVkZW1zZXQnLFxyXG4gICAgODogJ29zaWVtc2V0JyxcclxuICAgIDk6ICdkemlld2nEmcSHc2V0J1xyXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvanMvY29tbW9uL29yZGluYWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIFRPRE9cclxuICAgICogdmFsaWRhdGUgZGF0YTpcclxuICAgICAgICAqIGRpZ2l0cyArIGNvbW1hIGFuZCBkb3Qgb25seVxyXG4gICAgICAgICogcmVtb3ZlIHNwYWNlc1xyXG5cclxuXHJcbiovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWYWxpZGF0aW9uIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoIG9wdHMgKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXNoJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCAoKSB7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZSh0aGlzLmlucHV0KTtcclxuICAgIH1cclxuXHJcbiAgICB2YWxkYXRlICggaW5wdXQgKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKCdeKFsxLTldKXsxfVxcZHswLH0oW1xcLixdKT9cXGR7MCwyfSQnKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9qcy9tb2R1bGVzL3ZhbGlkYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==